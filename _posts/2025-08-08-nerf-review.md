---
title: [Review]NeRF: Neural Radiance Fields for View Synthesis
date: 2025-08-08 18:41:11
categories: [AI, 3D]
tags: [review]     # TAG names should always be lowercase
---

# Volume Rendering with Radiance Fields

저희의 5D 뉴럴 래디언스 필드는 한 장면을 공간상의 모든 지점에서의 **볼륨 밀도**와 **방향성 방출 색상**으로 표현합니다. 저희는 고전적인 **볼륨 렌더링** 원리를 사용하여 장면을 통과하는 모든 광선의 색상을 렌더링합니다. 

볼륨 밀도 $\sigma(x)$는 광선이 위치 $x$의 미소 입자에서 종료될 미분 확률(differential probability)로 해석될 수 있습니다. 근경계 및 원경계$(t_n, t_f)$를 가진 카메라 광선 $r(t)=o+td$의 기댓값 색상 $C(r)$는 다음과 같습니다:

$$
C(r)=\int_{t_n}^{t_f}T(t)\sigma(r(t))c(r(t),d)dt,where T(t)=\exp(- \int ^t_{t_n}\sigma(r(s))ds)
$$

함수 $T(t)$는 tn부터 t까지 광선을 따른 **누적 투과율(accumulated transmittance)**, 즉 광선이 다른 입자와 부딪히지 않고 tn부터 t까지 진행할 확률을 나타냅니다. 저희의 연속적인 뉴럴 래디언스 필드로부터 뷰를 렌더링하는 것은, 원하는 가상 카메라의 각 픽셀을 통과하는 카메라 광선에 대해 이 적분 $C(r)$을 추정하는 것을 필요로 합니다.

> **`[기여도]` = `[해당 지점까지 빛이 도달할 확률]` × `[해당 지점에서 빛이 멈출 확률]` × `[해당 지점의 색상]`**
> 
> 
> [Contribution] = T(t)$T(t)$$\sigma(r(t))$ × $c(r(t), d)$
> 
> Q. t가 SfM에서 얻은 특징점이 아니라면 무슨 근거로 투과율을 결정지을 수 있는 것인가?
> 
> A. 근거없이 결정 후 학습을 통해서 추정 
> 
> ### 1단계: 무작위 추측 (돌덩이 상태)
> 
> - **훈련 맨 처음:** MLP의 가중치는 완전히 무작위 상태로 시작합니다.
> - **첫 번째 샘플:** 광선을 따라 샘플링된 첫 번째 지점 x1을 MLP에 넣으면, MLP는 **그냥 무작위의 밀도 값 σ1을 출력**합니다. 이 값에는 아직 아무런 근거가 없습니다. 마치 조각가가 작업 전의 네모난 돌덩이의 한 부분을 가리키는 것과 같습니다. 그 부분은 아직 아무런 의미나 형태가 없는 그냥 돌일 뿐입니다.
> 
> ---
> 
> ### 2단계: 렌더링 및 오차 계산 (첫 조각칼질과 비교)
> 
> - **추측으로 렌더링:** MLP는 광선을 따라 샘플링된 모든 지점(x1,...,xN)에 대해 이런 **'근거 없는 추측'**으로 밀도(σi)와 색상(ci)을 모두 출력합니다.
> - **결과 비교:** 이 추측값들을 볼륨 렌더링 공식에 넣어 최종 픽셀 색상을 계산합니다. 당연히 이 색상은 **실제 이미지의 픽셀 색상과 완전히 다를 것**입니다. (마치 조각가가 참고 사진을 보며 돌덩이에 첫 조각칼질을 한 뒤, 사진과 전혀 다른 모습에 실망하는 것과 같습니다.)
> - **오차 계산:** 이 "예측 색상"과 "실제 색상"의 차이, 즉 **오차(Loss)**를 계산합니다.
> 
> ---
> 
> ### 3단계: 수정 및 학습 (작품 완성 과정)
> 
> - **역전파 (피드백):** 계산된 오차는 미분 가능한 렌더링 공식을 거꾸로 거슬러 올라가 MLP에게 전달됩니다. 이 피드백은 이렇게 말하는 것과 같습니다.
>     
>     > "너의 추측(σ1,...,σN)들 때문에 최종 색상이 틀렸어! 정답에 가까워지려면, x1 지점의 밀도 σ1은 더 낮았어야 하고, x5 지점의 밀도 σ5는 더 높았어야 해!"
>     > 
> - **가중치 업데이트:** MLP는 이 피드백에 따라 자신의 가중치를 아주 약간 수정합니다.
> - **무한 반복:** 이 과정(추측 → 비교 → 수정)을 **수십만 번, 수백만 번 반복**합니다.
> 

---

저희는 **구적법(quadrature)**을 사용하여 이 연속적인 적분을 수치적으로 추정합니다. 이산화된 복셀 그리드를 렌더링하는 데 일반적으로 사용되는 결정론적 구적법은 MLP가 고정된 이산적 위치 집합에서만 질의(query)되도록 하므로 저희 표현의 해상도를 사실상 제한하게 됩니다. 대신 저희는 **계층적 샘플링(stratified sampling)** 접근 방식을 사용합니다. 이 방식에서는 $[t_n,t_f]$ 구간을 N개의 균일한 간격으로 분할한 다음, 각 구간 내에서 균등분포에 따라 무작위로 하나의 샘플을 추출합니다:
